/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/entity_controller.ts":
/*!**********************************!*\
  !*** ./src/entity_controller.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.entity_controller = void 0;
const sounds_1 = __webpack_require__(/*! ./sounds */ "./src/sounds.ts");
function bounce(entity, other_entity, overlap) {
    const pos = entity.bounding_box.pos;
    const other_pos = other_entity.bounding_box.pos;
    const s = other_pos.x - pos.x > 0 ? 1 : -1;
    other_pos.x += overlap * s * 0.7;
}
function knock_back(entity, other_entity, overlap) {
    const pos = entity.bounding_box.pos;
    const other_pos = other_entity.bounding_box.pos;
    const s = other_pos.x - pos.x > 0 ? 1 : -1;
    pos.x -= overlap * s * 0.3;
}
function collision_detector(entity, other_entity) {
    const pos = entity.pos;
    const other_pos = other_entity.pos;
    const size = entity.size;
    const other_size = other_entity.size;
    if (pos.x < other_pos.x + other_size.width &&
        pos.x + size.width > other_pos.x &&
        pos.y < other_pos.y + other_size.height &&
        pos.y + size.height > other_pos.y) {
        return size.width + other_size.width - Math.abs(pos.x - other_pos.x);
    }
    return 0;
}
function entity_controller(entity, other_entity, canvas, keys, controle_keys) {
    const speed = 5;
    const jump = 20;
    entity.vel.x = 0;
    if (keys[controle_keys.left] &&
        (entity.last_key === controle_keys.left
            || entity.last_key === controle_keys.up)) {
        entity.vel.x = -speed;
    }
    if (keys[controle_keys.right] &&
        (entity.last_key === controle_keys.right
            || entity.last_key === controle_keys.up)) {
        entity.vel.x = speed;
    }
    if (keys[controle_keys.up]) {
        if (entity.bounding_box.pos.y > canvas.height - 1.05 * entity.bounding_box.size.height) {
            entity.bounding_box.pos.y -= 1.1;
            entity.vel.y = -jump;
        }
        keys.w = false;
    }
    entity.is_atacking = false;
    if (keys[controle_keys.attack]) {
        entity.is_atacking = true;
        let overlap = collision_detector(entity.attack_box, other_entity.bounding_box);
        if (overlap > 0) {
            (0, sounds_1.play_hit_sound)();
            bounce(entity, other_entity, overlap);
            knock_back(entity, other_entity, overlap);
            other_entity.life -= entity.damage;
        }
    }
    if (keys[controle_keys.down]) {
        entity.bounding_box.size.height = entity.duck_height;
    }
    else {
        entity.bounding_box.size.height = entity.standup_height;
    }
}
exports.entity_controller = entity_controller;


/***/ }),

/***/ "./src/sounds.ts":
/*!***********************!*\
  !*** ./src/sounds.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.play_hit_sound = void 0;
const HIT_SOUND = new Audio('../assets/sound/hit.mp3');
function play_hit_sound() {
    HIT_SOUND.play();
}
exports.play_hit_sound = play_hit_sound;


/***/ }),

/***/ "./src/sprite.ts":
/*!***********************!*\
  !*** ./src/sprite.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Player = void 0;
const utils_1 = __webpack_require__(/*! ./utils */ "./src/utils.ts");
class Player {
    offset_attac_box() {
        let x_offset;
        switch (this.direction) {
            case utils_1.DIRECTION.LEFT:
                x_offset = -this.attack_box.size.width;
                break;
            case utils_1.DIRECTION.RIGHT:
                x_offset = this.bounding_box.size.width;
                break;
        }
        this.attack_box.pos.x = this.bounding_box.pos.x + x_offset;
        this.attack_box.pos.y = this.bounding_box.pos.y;
    }
    constructor(id, pos, vel, direction, style) {
        this.id = id;
        this.vel = vel;
        const height = 150;
        this.bounding_box = { pos: pos, size: { width: 50, height: height } };
        this.direction = direction;
        this.standup_height = height;
        this.duck_height = height * 0.6;
        this.style = style;
        this.attack_box = {
            pos: { x: 0, y: 0 },
            size: { width: 100, height: 50 }
        };
        this.offset_attac_box();
        this.life = 100;
        this.damage = 1;
    }
    draw(c) {
        c.fillStyle = this.style;
        c.fillRect(this.bounding_box.pos.x, this.bounding_box.pos.y, this.bounding_box.size.width, this.bounding_box.size.height);
        if (this.is_atacking) {
            c.fillStyle = 'red';
            // if(KeyboardEvent.
            c.fillRect(this.attack_box.pos.x, this.attack_box.pos.y, this.attack_box.size.width, this.attack_box.size.height);
        }
    }
    update(c, canvas, gravity, other) {
        this.draw(c);
        this.offset_attac_box();
        let diff = other.bounding_box.pos.x - this.bounding_box.pos.x;
        if (diff > 0) {
            this.direction = utils_1.DIRECTION.RIGHT;
        }
        ;
        if (diff < 0) {
            this.direction = utils_1.DIRECTION.LEFT;
        }
        ;
        if (this.bounding_box.pos.y + this.bounding_box.size.height >= canvas.height) {
            this.vel.y = 0;
            this.bounding_box.pos.y -=
                this.bounding_box.pos.y + this.bounding_box.size.height - canvas.height;
        }
        else {
            this.vel.y += gravity;
        }
        if (this.bounding_box.pos.x <= 0) {
            this.bounding_box.pos.x = 1;
        }
        if (this.bounding_box.pos.x + this.bounding_box.size.width >= canvas.width) {
            this.bounding_box.pos.x = canvas.width - this.bounding_box.size.width - 1;
        }
        this.bounding_box.pos.x += this.vel.x;
        this.bounding_box.pos.y += this.vel.y;
        this.life_display = Math.max(this.life, 0);
        let life_text = document.getElementById(`health${this.id}`);
        life_text.innerHTML = `health P1: ${this.life_display}`;
    }
}
exports.Player = Player;


/***/ }),

/***/ "./src/status_bar.ts":
/*!***************************!*\
  !*** ./src/status_bar.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FillBar = void 0;
const utils_1 = __webpack_require__(/*! ./utils */ "./src/utils.ts");
class FillBar {
    constructor(box, fill_fraction, fill_dir) {
        this.box = box;
        this.fill_fraction = fill_fraction;
        this.fill_dir = fill_dir;
    }
    update(new_fill_fraction) {
        this.fill_fraction = new_fill_fraction;
        if (this.fill_fraction > 0.8) {
            this.color = 'green';
        }
        else if (this.fill_fraction > 0.7) {
            this.color = 'lightgreen';
        }
        else if (this.fill_fraction > 0.6) {
            this.color = 'yellow';
        }
        else if (this.fill_fraction > 0.3) {
            this.color = 'orange';
        }
        else {
            this.color = 'red';
        }
    }
    draw(c) {
        c.fillStyle = this.color;
        c.strokeStyle = this.color;
        let w = this.fill_fraction;
        c.beginPath();
        c.rect(this.box.pos.x, this.box.pos.y, this.box.size.width, this.box.size.height);
        c.stroke();
        switch (this.fill_dir) {
            case utils_1.DIRECTION.RIGHT:
                c.fillRect(this.box.pos.x, this.box.pos.y, w * this.box.size.width, this.box.size.height);
                break;
            case utils_1.DIRECTION.LEFT:
                c.fillRect(this.box.pos.x + (1 - w) * this.box.size.width, this.box.pos.y, w * this.box.size.width, this.box.size.height);
                break;
        }
    }
}
exports.FillBar = FillBar;


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DIRECTION = exports.vec2d = void 0;
class vec2d {
    constructor(x, y) {
        this.x = x;
        this.y = y;
    }
}
exports.vec2d = vec2d;
var DIRECTION;
(function (DIRECTION) {
    DIRECTION[DIRECTION["LEFT"] = -1] = "LEFT";
    DIRECTION[DIRECTION["RIGHT"] = 1] = "RIGHT";
})(DIRECTION || (exports.DIRECTION = DIRECTION = {}));
;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
const sprite_1 = __webpack_require__(/*! ./sprite */ "./src/sprite.ts");
const entity_controller_1 = __webpack_require__(/*! ./entity_controller */ "./src/entity_controller.ts");
const status_bar_1 = __webpack_require__(/*! ./status_bar */ "./src/status_bar.ts");
const utils_1 = __webpack_require__(/*! ./utils */ "./src/utils.ts");
const CANVAS = document.querySelector('canvas');
let CONTEXT = CANVAS.getContext('2d');
CONTEXT.fillRect(0, 0, CANVAS.width, CANVAS.height);
const GRAVITY = 0.7;
const HEALTH_WIDTH = 300;
const HEALTH_HEIGHT = 9;
const PLAYER = new sprite_1.Player(1, { x: 1, y: 0 }, { x: 0, y: 0 }, utils_1.DIRECTION.RIGHT, 'green');
const HEALT_BAR_PLAYER = new status_bar_1.FillBar({ pos: { x: 10, y: 10 }, size: { width: HEALTH_WIDTH, height: HEALTH_HEIGHT } }, 1, utils_1.DIRECTION.RIGHT);
const ENEMY = new sprite_1.Player(2, { x: 500, y: 10 }, { x: 0, y: 0 }, utils_1.DIRECTION.LEFT, 'blue');
const HEALT_BAR_ENEMY = new status_bar_1.FillBar({ pos: { x: CANVAS.width - HEALTH_WIDTH - 10, y: 10 }, size: { width: HEALTH_WIDTH, height: HEALTH_HEIGHT } }, 1, utils_1.DIRECTION.LEFT);
let KEYS = {};
let PLAYER_CONTROLLER_KEYS = { left: 'a', right: 'd', up: 'w', down: 's', attack: 'c' };
let ENEMY_CONTROLLER_KEYS = { left: 'ArrowLeft', right: 'ArrowRight', up: 'ArrowUp', down: 'ArrowDown', attack: ',' };
function animate() {
    requestAnimationFrame(animate);
    CONTEXT.fillStyle = 'black';
    CONTEXT.fillRect(0, 0, CANVAS.width, CANVAS.height);
    PLAYER.update(CONTEXT, CANVAS, GRAVITY, ENEMY);
    HEALT_BAR_PLAYER.update(PLAYER.life_display / 100);
    HEALT_BAR_PLAYER.draw(CONTEXT);
    ENEMY.update(CONTEXT, CANVAS, GRAVITY, PLAYER);
    HEALT_BAR_ENEMY.update(ENEMY.life_display / 100);
    HEALT_BAR_ENEMY.draw(CONTEXT);
    (0, entity_controller_1.entity_controller)(PLAYER, ENEMY, CANVAS, KEYS, PLAYER_CONTROLLER_KEYS);
    (0, entity_controller_1.entity_controller)(ENEMY, PLAYER, CANVAS, KEYS, ENEMY_CONTROLLER_KEYS);
}
animate();
window.addEventListener('keydown', (event) => {
    KEYS[event.key] = true;
    if (Object.values(PLAYER_CONTROLLER_KEYS).includes(event.key)) {
        PLAYER.last_key = event.key;
    }
    if (Object.values(ENEMY_CONTROLLER_KEYS).includes(event.key)) {
        ENEMY.last_key = event.key;
    }
});
window.addEventListener('keyup', (event) => { KEYS[event.key] = false; });

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBQUMsQ0FBQztJQUM3RixJQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFDLENBQUM7UUFBQyxLQUFLLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFBQyxDQUFDO0FBQzdGLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxFQUFDLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9lbnRpdHlfY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc291bmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9zcHJpdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXR1c19iYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwbGF5X2hpdF9zb3VuZCB9IGZyb20gXCIuL3NvdW5kc1wiO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vc3ByaXRlXCI7XG5pbXBvcnQgeyBCb3ggfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgdHlwZSBDb250cm9sZUtleXMgPSB7XG4gIGxlZnQ6IHN0cmluZywgXG4gIHJpZ2h0OiBzdHJpbmcsIFxuICB1cDogc3RyaW5nLCBcbiAgZG93bjogc3RyaW5nLCBcbiAgYXR0YWNrOiBzdHJpbmdcbn1cblxuZnVuY3Rpb24gYm91bmNlKGVudGl0eTogUGxheWVyLCBvdGhlcl9lbnRpdHk6IFBsYXllciwgb3ZlcmxhcDogbnVtYmVyKSB7XG4gIGNvbnN0IHBvcyA9IGVudGl0eS5ib3VuZGluZ19ib3gucG9zO1xuICBjb25zdCBvdGhlcl9wb3MgPSBvdGhlcl9lbnRpdHkuYm91bmRpbmdfYm94LnBvcztcblxuICBjb25zdCBzID0gb3RoZXJfcG9zLnggIC0gcG9zLnggPiAwID8gMSA6IC0xO1xuICBvdGhlcl9wb3MueCArPSBvdmVybGFwICogcyowLjc7XG59XG5mdW5jdGlvbiBrbm9ja19iYWNrKGVudGl0eTogUGxheWVyLCBvdGhlcl9lbnRpdHk6IFBsYXllciwgb3ZlcmxhcDogbnVtYmVyKSB7XG4gIGNvbnN0IHBvcyA9IGVudGl0eS5ib3VuZGluZ19ib3gucG9zO1xuICBjb25zdCBvdGhlcl9wb3MgPSBvdGhlcl9lbnRpdHkuYm91bmRpbmdfYm94LnBvcztcblxuICBjb25zdCBzID0gb3RoZXJfcG9zLnggIC0gcG9zLnggPiAwID8gMSA6IC0xO1xuICBwb3MueCAtPSBvdmVybGFwICogcyowLjM7XG59XG5cbmZ1bmN0aW9uIGNvbGxpc2lvbl9kZXRlY3RvcihlbnRpdHk6IEJveCwgb3RoZXJfZW50aXR5OiBCb3gpOiBudW1iZXIge1xuICBjb25zdCBwb3MgPSBlbnRpdHkucG9zO1xuICBjb25zdCBvdGhlcl9wb3MgPSBvdGhlcl9lbnRpdHkucG9zO1xuICBjb25zdCBzaXplID0gZW50aXR5LnNpemU7XG4gIGNvbnN0IG90aGVyX3NpemUgPSBvdGhlcl9lbnRpdHkuc2l6ZTtcblxuICBpZiAocG9zLnggPCBvdGhlcl9wb3MueCArIG90aGVyX3NpemUud2lkdGggJiZcbiAgICAgIHBvcy54ICsgc2l6ZS53aWR0aCA+IG90aGVyX3Bvcy54ICYmXG4gICAgICBwb3MueSA8IG90aGVyX3Bvcy55ICsgb3RoZXJfc2l6ZS5oZWlnaHQgJiZcbiAgICAgIHBvcy55ICsgc2l6ZS5oZWlnaHQgPiBvdGhlcl9wb3MueSl7XG4gICAgcmV0dXJuIHNpemUud2lkdGggKyBvdGhlcl9zaXplLndpZHRoIC0gTWF0aC5hYnMocG9zLnggLSBvdGhlcl9wb3MueCk7XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVudGl0eV9jb250cm9sbGVyKGVudGl0eTogUGxheWVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJfZW50aXR5OiBQbGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sZV9rZXlzOiBDb250cm9sZUtleXMpe1xuXG4gIGNvbnN0IHNwZWVkID0gNTtcbiAgY29uc3QganVtcCA9IDIwO1xuICBlbnRpdHkudmVsLnggPSAwOyBcbiAgaWYoa2V5c1tjb250cm9sZV9rZXlzLmxlZnRdICYmIFxuICAgICAoZW50aXR5Lmxhc3Rfa2V5ID09PSBjb250cm9sZV9rZXlzLmxlZnQgXG4gICAgICAgfHwgZW50aXR5Lmxhc3Rfa2V5ID09PSBjb250cm9sZV9rZXlzLnVwKSBcbiAgICApIHsgXG4gICAgICBlbnRpdHkudmVsLnggPSAtc3BlZWQ7IFxuICAgIH1cblxuICBpZihrZXlzW2NvbnRyb2xlX2tleXMucmlnaHRdICYmIFxuICAgICAoZW50aXR5Lmxhc3Rfa2V5ID09PSBjb250cm9sZV9rZXlzLnJpZ2h0XG4gICAgICAgfHwgZW50aXR5Lmxhc3Rfa2V5ID09PSBjb250cm9sZV9rZXlzLnVwKSBcbiAgICAgKSB7IFxuICAgICAgIGVudGl0eS52ZWwueCA9IHNwZWVkOyBcbiAgICAgfVxuXG4gIGlmKGtleXNbY29udHJvbGVfa2V5cy51cF0peyBcbiAgICBpZihlbnRpdHkuYm91bmRpbmdfYm94LnBvcy55ID4gY2FudmFzLmhlaWdodCAtIDEuMDUqZW50aXR5LmJvdW5kaW5nX2JveC5zaXplLmhlaWdodCl7XG4gICAgICBlbnRpdHkuYm91bmRpbmdfYm94LnBvcy55IC09IDEuMTtcbiAgICAgIGVudGl0eS52ZWwueSA9IC1qdW1wOyBcbiAgICB9XG4gICAga2V5cy53ID0gZmFsc2VcbiAgfVxuXG4gIGVudGl0eS5pc19hdGFja2luZyA9IGZhbHNlO1xuICBpZihrZXlzW2NvbnRyb2xlX2tleXMuYXR0YWNrXSl7XG4gICAgZW50aXR5LmlzX2F0YWNraW5nID0gdHJ1ZTtcbiAgICBsZXQgb3ZlcmxhcDogbnVtYmVyID0gY29sbGlzaW9uX2RldGVjdG9yKGVudGl0eS5hdHRhY2tfYm94LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJfZW50aXR5LmJvdW5kaW5nX2JveCk7XG4gICAgaWYgKG92ZXJsYXA+MCl7XG4gICAgICBwbGF5X2hpdF9zb3VuZCgpO1xuICAgICAgYm91bmNlKGVudGl0eSwgb3RoZXJfZW50aXR5LCBvdmVybGFwKTtcbiAgICAgIGtub2NrX2JhY2soZW50aXR5LCBvdGhlcl9lbnRpdHksIG92ZXJsYXApO1xuXG4gICAgICBvdGhlcl9lbnRpdHkubGlmZSAtPSBlbnRpdHkuZGFtYWdlO1xuICAgIH1cbiAgfVxuXG4gIGlmKGtleXNbY29udHJvbGVfa2V5cy5kb3duXSl7IFxuICAgIGVudGl0eS5ib3VuZGluZ19ib3guc2l6ZS5oZWlnaHQgPSBlbnRpdHkuZHVja19oZWlnaHQ7XG4gIH1cbiAgZWxzZXsgXG4gICAgZW50aXR5LmJvdW5kaW5nX2JveC5zaXplLmhlaWdodCA9IGVudGl0eS5zdGFuZHVwX2hlaWdodDtcbiAgfVxufVxuXG4iLCJjb25zdCBISVRfU09VTkQgPSAgbmV3IEF1ZGlvKCcuLi9hc3NldHMvc291bmQvaGl0Lm1wMycpXG5cbmV4cG9ydCBmdW5jdGlvbiBwbGF5X2hpdF9zb3VuZCgpe1xuICBISVRfU09VTkQucGxheSgpO1xufVxuIiwiaW1wb3J0IHsgdmVjMmQsIEJveCwgRElSRUNUSU9OIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuXG4gIGJvdW5kaW5nX2JveDogQm94O1xuICBhdHRhY2tfYm94OiBCb3g7XG5cbiAgaWQ6IG51bWJlcjtcbiAgdmVsOiB2ZWMyZDtcbiAgZGlyZWN0aW9uOiBESVJFQ1RJT047XG4gIHN0YW5kdXBfaGVpZ2h0OiBudW1iZXI7XG4gIGR1Y2tfaGVpZ2h0OiBudW1iZXI7XG4gIHN0eWxlOiBzdHJpbmc7XG4gIGxhc3Rfa2V5OiBzdHJpbmc7XG4gIGlzX2F0YWNraW5nOiBib29sZWFuO1xuICBsaWZlOiBudW1iZXI7XG4gIGxpZmVfZGlzcGxheTogbnVtYmVyO1xuICBkYW1hZ2U6IG51bWJlcjtcblxuICBwcml2YXRlIG9mZnNldF9hdHRhY19ib3goKXtcbiAgICBsZXQgeF9vZmZzZXQ6bnVtYmVyO1xuICAgIHN3aXRjaCh0aGlzLmRpcmVjdGlvbil7XG4gICAgICBjYXNlIERJUkVDVElPTi5MRUZUOiBcbiAgICAgICAgeF9vZmZzZXQgPSAtdGhpcy5hdHRhY2tfYm94LnNpemUud2lkdGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uUklHSFQ6XG4gICAgICAgIHhfb2Zmc2V0ID0gdGhpcy5ib3VuZGluZ19ib3guc2l6ZS53aWR0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRhY2tfYm94LnBvcy54ID0gdGhpcy5ib3VuZGluZ19ib3gucG9zLnggKyB4X29mZnNldDtcbiAgICB0aGlzLmF0dGFja19ib3gucG9zLnkgPSB0aGlzLmJvdW5kaW5nX2JveC5wb3MueTtcblxuICB9XG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgcG9zOiB2ZWMyZCwgdmVsOiB2ZWMyZCwgZGlyZWN0aW9uOiBESVJFQ1RJT04sIHN0eWxlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy52ZWwgPSB2ZWw7XG4gICAgY29uc3QgaGVpZ2h0OiBudW1iZXIgPSAxNTA7XG4gICAgdGhpcy5ib3VuZGluZ19ib3ggPSB7IHBvczogcG9zLCBzaXplOiB7d2lkdGg6IDUwLCBoZWlnaHQ6IGhlaWdodH0gfTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgXG5cbiAgICB0aGlzLnN0YW5kdXBfaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuZHVja19oZWlnaHQgPSBoZWlnaHQqMC42O1xuXG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG5cbiAgICB0aGlzLmF0dGFja19ib3ggPSB7XG4gICAgICBwb3M6IHt4OiAwLCB5OjB9LFxuICAgICAgc2l6ZToge3dpZHRoOiAxMDAsIGhlaWdodDogNTB9XG4gICAgfVxuXG4gICAgdGhpcy5vZmZzZXRfYXR0YWNfYm94KCk7XG5cbiAgICB0aGlzLmxpZmUgPSAxMDA7XG4gICAgdGhpcy5kYW1hZ2UgPSAxO1xuXG4gIH1cbiBcbiAgZHJhdyhjOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICBjLmZpbGxTdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgYy5maWxsUmVjdCh0aGlzLmJvdW5kaW5nX2JveC5wb3MueCwgdGhpcy5ib3VuZGluZ19ib3gucG9zLnksIFxuICAgICAgICAgICAgICAgdGhpcy5ib3VuZGluZ19ib3guc2l6ZS53aWR0aCwgdGhpcy5ib3VuZGluZ19ib3guc2l6ZS5oZWlnaHQpO1xuXG4gICAgaWYodGhpcy5pc19hdGFja2luZyl7XG4gICAgICBjLmZpbGxTdHlsZSA9ICdyZWQnO1xuXG4gICAgICAvLyBpZihLZXlib2FyZEV2ZW50LlxuICAgICAgYy5maWxsUmVjdCh0aGlzLmF0dGFja19ib3gucG9zLngsIHRoaXMuYXR0YWNrX2JveC5wb3MueSwgXG4gICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrX2JveC5zaXplLndpZHRoLFxuICAgICAgICAgICAgICAgICB0aGlzLmF0dGFja19ib3guc2l6ZS5oZWlnaHQpO1xuICAgIH1cblxuICB9XG5cbiAgdXBkYXRlKGM6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICAgICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIFxuICAgICAgICAgZ3Jhdml0eTogbnVtYmVyLCBvdGhlcjogUGxheWVyKSB7XG4gICAgdGhpcy5kcmF3KGMpO1xuXG4gICAgdGhpcy5vZmZzZXRfYXR0YWNfYm94KCk7XG4gICAgbGV0IGRpZmY6IG51bWJlciA9IG90aGVyLmJvdW5kaW5nX2JveC5wb3MueCAtIHRoaXMuYm91bmRpbmdfYm94LnBvcy54O1xuICAgIGlmKGRpZmYgPiAwKXsgdGhpcy5kaXJlY3Rpb24gPSBESVJFQ1RJT04uUklHSFQgfTtcbiAgICBpZihkaWZmIDwgMCl7IHRoaXMuZGlyZWN0aW9uID0gRElSRUNUSU9OLkxFRlQgfTtcblxuICAgIGlmKHRoaXMuYm91bmRpbmdfYm94LnBvcy55K3RoaXMuYm91bmRpbmdfYm94LnNpemUuaGVpZ2h0ID49IGNhbnZhcy5oZWlnaHQpe1xuICAgICAgdGhpcy52ZWwueSA9IDA7XG4gICAgICB0aGlzLmJvdW5kaW5nX2JveC5wb3MueSAtPSBcbiAgICAgICAgdGhpcy5ib3VuZGluZ19ib3gucG9zLnkgKyB0aGlzLmJvdW5kaW5nX2JveC5zaXplLmhlaWdodCAtIGNhbnZhcy5oZWlnaHQ7IFxuICAgIH0gZWxzZXtcbiAgICAgIHRoaXMudmVsLnkgKz0gZ3Jhdml0eTtcbiAgICB9XG4gICAgaWYodGhpcy5ib3VuZGluZ19ib3gucG9zLnggPD0gMCApe1xuICAgICAgdGhpcy5ib3VuZGluZ19ib3gucG9zLnggPSAxO1xuICAgIH1cbiAgICBpZih0aGlzLmJvdW5kaW5nX2JveC5wb3MueCt0aGlzLmJvdW5kaW5nX2JveC5zaXplLndpZHRoID49IGNhbnZhcy53aWR0aCl7XG4gICAgICB0aGlzLmJvdW5kaW5nX2JveC5wb3MueCA9IGNhbnZhcy53aWR0aCAtIHRoaXMuYm91bmRpbmdfYm94LnNpemUud2lkdGggLSAxOyBcbiAgICB9XG4gICAgdGhpcy5ib3VuZGluZ19ib3gucG9zLnggKz0gdGhpcy52ZWwueDtcbiAgICB0aGlzLmJvdW5kaW5nX2JveC5wb3MueSArPSB0aGlzLnZlbC55O1xuXG4gICAgdGhpcy5saWZlX2Rpc3BsYXkgPSBNYXRoLm1heCh0aGlzLmxpZmUsIDApXG4gICAgbGV0IGxpZmVfdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoZWFsdGgke3RoaXMuaWR9YCkhO1xuICAgIGxpZmVfdGV4dC5pbm5lckhUTUwgPSAgYGhlYWx0aCBQMTogJHt0aGlzLmxpZmVfZGlzcGxheX1gOyBcbiAgICBcbiAgfVxufVxuIiwiaW1wb3J0IHsgRElSRUNUSU9OLCBCb3ggfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEZpbGxCYXIge1xuICBib3g6IEJveFxuICBjb2xvcjogc3RyaW5nO1xuICBmaWxsX2ZyYWN0aW9uOiBudW1iZXI7XG4gIGZpbGxfZGlyOiBESVJFQ1RJT047XG5cbiAgY29uc3RydWN0b3IoYm94OiBCb3gsIGZpbGxfZnJhY3Rpb246IG51bWJlciwgZmlsbF9kaXI6IERJUkVDVElPTil7XG5cbiAgICB0aGlzLmJveCA9IGJveDtcbiAgICB0aGlzLmZpbGxfZnJhY3Rpb24gPSBmaWxsX2ZyYWN0aW9uO1xuICAgIHRoaXMuZmlsbF9kaXIgPSBmaWxsX2RpcjtcbiAgfVxuXG4gIHVwZGF0ZShuZXdfZmlsbF9mcmFjdGlvbjogbnVtYmVyKXsgXG4gICAgdGhpcy5maWxsX2ZyYWN0aW9uID0gbmV3X2ZpbGxfZnJhY3Rpb247IFxuICAgIGlmKHRoaXMuZmlsbF9mcmFjdGlvbiA+IDAuOCl7IHRoaXMuY29sb3IgPSAnZ3JlZW4nIH1cbiAgICBlbHNlIGlmKHRoaXMuZmlsbF9mcmFjdGlvbiA+IDAuNyl7IHRoaXMuY29sb3IgPSAnbGlnaHRncmVlbicgfVxuICAgIGVsc2UgaWYodGhpcy5maWxsX2ZyYWN0aW9uID4gMC42KSB7dGhpcy5jb2xvciA9ICd5ZWxsb3cnfVxuICAgIGVsc2UgaWYodGhpcy5maWxsX2ZyYWN0aW9uID4gMC4zKSB7dGhpcy5jb2xvciA9ICdvcmFuZ2UnfVxuICAgIGVsc2Uge3RoaXMuY29sb3IgPSAncmVkJ31cblxuICB9XG4gIGRyYXcoYzogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgYy5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGMuc3Ryb2tlU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGxldCB3OiBudW1iZXIgPSB0aGlzLmZpbGxfZnJhY3Rpb247XG4gICAgYy5iZWdpblBhdGgoKTtcbiAgICBjLnJlY3QodGhpcy5ib3gucG9zLngsIHRoaXMuYm94LnBvcy55LCB0aGlzLmJveC5zaXplLndpZHRoLCB0aGlzLmJveC5zaXplLmhlaWdodCk7XG4gICAgYy5zdHJva2UoKTtcblxuICAgIHN3aXRjaCh0aGlzLmZpbGxfZGlyKXtcbiAgICAgIGNhc2UgRElSRUNUSU9OLlJJR0hUOlxuICAgICAgICBjLmZpbGxSZWN0KHRoaXMuYm94LnBvcy54LCB0aGlzLmJveC5wb3MueSwgdyp0aGlzLmJveC5zaXplLndpZHRoLCB0aGlzLmJveC5zaXplLmhlaWdodCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBESVJFQ1RJT04uTEVGVDpcbiAgICAgICAgYy5maWxsUmVjdCh0aGlzLmJveC5wb3MueCsoMS13KSp0aGlzLmJveC5zaXplLndpZHRoLCB0aGlzLmJveC5wb3MueSwgdyp0aGlzLmJveC5zaXplLndpZHRoLCB0aGlzLmJveC5zaXplLmhlaWdodCk7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIHZlYzJkIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbn1cblxuZXhwb3J0IGVudW0gRElSRUNUSU9OIHtMRUZUPS0xLCBSSUdIVD0xfTtcblxuZXhwb3J0IHR5cGUgQm94ID0ge1xuICBwb3M6IHZlYzJkLFxuICBzaXplOiB7d2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9XG59XG5cblxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7IFBsYXllcn0gZnJvbSAnLi9zcHJpdGUnO1xuaW1wb3J0IHsgQ29udHJvbGVLZXlzLCBlbnRpdHlfY29udHJvbGxlciB9IGZyb20gJy4vZW50aXR5X2NvbnRyb2xsZXInO1xuaW1wb3J0IHsgRmlsbEJhciB9IGZyb20gJy4vc3RhdHVzX2Jhcic7XG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgQ0FOVkFTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJykhO1xubGV0IENPTlRFWFQgPSBDQU5WQVMuZ2V0Q29udGV4dCgnMmQnKSE7XG5cbkNPTlRFWFQuZmlsbFJlY3QoMCwgIDAsIENBTlZBUy53aWR0aCwgQ0FOVkFTLmhlaWdodCk7XG5jb25zdCBHUkFWSVRZOiBudW1iZXIgPSAwLjc7XG5jb25zdCBIRUFMVEhfV0lEVEggPSAzMDA7XG5jb25zdCBIRUFMVEhfSEVJR0hUID0gOTtcbmNvbnN0IFBMQVlFUiA9IG5ldyBQbGF5ZXIoMSwge3g6IDEsIHk6IDB9LCB7eDogMCwgeTogMH0sIERJUkVDVElPTi5SSUdIVCwgJ2dyZWVuJyk7XG5jb25zdCBIRUFMVF9CQVJfUExBWUVSID0gbmV3IEZpbGxCYXIoe3Bvczp7eDoxMCwgeToxMH0sIHNpemU6e3dpZHRoOiBIRUFMVEhfV0lEVEgsIGhlaWdodDogSEVBTFRIX0hFSUdIVH19LCAxLCBESVJFQ1RJT04uUklHSFQpO1xuY29uc3QgRU5FTVkgPSBuZXcgUGxheWVyKDIsIHt4OiA1MDAsIHk6IDEwfSwge3g6IDAsIHk6IDB9LERJUkVDVElPTi5MRUZULCAnYmx1ZScpO1xuY29uc3QgSEVBTFRfQkFSX0VORU1ZID0gbmV3IEZpbGxCYXIoe3Bvczp7eDpDQU5WQVMud2lkdGggLSBIRUFMVEhfV0lEVEggLSAxMCwgeToxMH0sIHNpemU6e3dpZHRoOiBIRUFMVEhfV0lEVEgsIGhlaWdodDogSEVBTFRIX0hFSUdIVH19LCAxLCBESVJFQ1RJT04uTEVGVCk7XG5cbmxldCBLRVlTOiB7W2tleTogc3RyaW5nXTogYm9vbGVhbn0gPSB7fTtcbmxldCBQTEFZRVJfQ09OVFJPTExFUl9LRVlTOiBDb250cm9sZUtleXMgPSB7bGVmdDonYScsIHJpZ2h0OidkJywgdXA6J3cnLCBkb3duOidzJywgYXR0YWNrOidjJ31cbmxldCBFTkVNWV9DT05UUk9MTEVSX0tFWVMgPSB7bGVmdDonQXJyb3dMZWZ0JywgcmlnaHQ6J0Fycm93UmlnaHQnLCB1cDonQXJyb3dVcCcsIGRvd246J0Fycm93RG93bicsIGF0dGFjazonLCd9XG5cbmZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgQ09OVEVYVC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICBDT05URVhULmZpbGxSZWN0KDAsIDAsIENBTlZBUy53aWR0aCwgQ0FOVkFTLmhlaWdodCk7XG4gIFBMQVlFUi51cGRhdGUoQ09OVEVYVCwgQ0FOVkFTLCBHUkFWSVRZLCBFTkVNWSk7XG4gIEhFQUxUX0JBUl9QTEFZRVIudXBkYXRlKFBMQVlFUi5saWZlX2Rpc3BsYXkvMTAwKTtcbiAgSEVBTFRfQkFSX1BMQVlFUi5kcmF3KENPTlRFWFQpO1xuICBFTkVNWS51cGRhdGUoQ09OVEVYVCwgQ0FOVkFTLCBHUkFWSVRZLCBQTEFZRVIpO1xuICBIRUFMVF9CQVJfRU5FTVkudXBkYXRlKEVORU1ZLmxpZmVfZGlzcGxheS8xMDApO1xuICBIRUFMVF9CQVJfRU5FTVkuZHJhdyhDT05URVhUKTtcblxuICBlbnRpdHlfY29udHJvbGxlcihQTEFZRVIsIEVORU1ZLCBDQU5WQVMsIEtFWVMsIFBMQVlFUl9DT05UUk9MTEVSX0tFWVMpXG4gIGVudGl0eV9jb250cm9sbGVyKEVORU1ZLCBQTEFZRVIsIENBTlZBUywgS0VZUywgRU5FTVlfQ09OVFJPTExFUl9LRVlTKVxuXG59XG5cbmFuaW1hdGUoKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgS0VZU1tldmVudC5rZXldID0gdHJ1ZSBcbiAgaWYoT2JqZWN0LnZhbHVlcyhQTEFZRVJfQ09OVFJPTExFUl9LRVlTKS5pbmNsdWRlcyhldmVudC5rZXkpKXsgUExBWUVSLmxhc3Rfa2V5ID0gZXZlbnQua2V5OyB9IFxuICBpZihPYmplY3QudmFsdWVzKEVORU1ZX0NPTlRST0xMRVJfS0VZUykuaW5jbHVkZXMoZXZlbnQua2V5KSl7IEVORU1ZLmxhc3Rfa2V5ID0gZXZlbnQua2V5OyB9XG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHsgS0VZU1tldmVudC5rZXldID0gZmFsc2UgfSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==